<div class="contain mt-5">
    <div class="row">
        <div class="col-md-9 content-left">
            <div style="position: sticky; top: 80px;">
                <div class="row card-important">
                    <div class="col-md-3 card-details">
                        <div class="card-users text-center">
                            <i class="bi bi-person-fill-check mt-3"></i>
                            <div class="user-details mt-3">
                                <span>{{users.length}}</span>
                            </div>
                            <div class="user-details-2 mt-2">
                                <span>USERS</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 card-details">
                        <div class="card-categories text-center">
                            <i class="bi bi-bag-check-fill"></i>
                            <div class="category-details mt-3">
                                <span>{{categories.length}}</span>
                            </div>
                            <div class="category-details-2 mt-2">
                                <span>CATEGORIES</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 card-details">
                        <div class="card-quizzes text-center">
                            <i class="bi bi-chat-left-dots-fill"></i>
                            <div class="quiz-details mt-3">
                                <span>{{quizzes.length}}</span>
                            </div>
                            <div class="quiz-details-2 mt-2">
                                <span>QUIZZES</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 card-details">
                        <div class="card-contest text-center">
                            <i class="bi bi-trophy-fill"></i>
                            <div class="contest-details mt-3">
                                <span>0</span>
                            </div>
                            <div class="contest-details-2 mt-2">
                                <span>CONTEST</span>
                            </div>
                        </div>
                    </div>
                </div>
    
                <div class="row">
                    <div class="col-md-12">
                        <div class="content-chart">
                            <div id="chart" style="background: #21262d;">
                                <apx-chart
                                  [series]="chartOptions.series!"
                                  [chart]="chartOptions.chart!"
                                  [dataLabels]="chartOptions.dataLabels!"
                                  [plotOptions]="chartOptions.plotOptions!"
                                  [responsive]="chartOptions.responsive!"
                                  [xaxis]="chartOptions.xaxis!"
                                  [legend]="chartOptions.legend!"
                                  [fill]="chartOptions.fill!"
                                ></apx-chart>
                              </div>
                        </div>
                    </div>
                </div>
            </div>
           
        </div>
        <div class="col-md-3 content-right">
            <div class="mt-4">
                <h2>Total users: {{users.length}}</h2>
            </div>
            <div class="card-user" *ngFor="let user of users">
                <div class="header d-flex justify-content-between align-items-center">
                   <div>
                    <img [src]="user.photo" alt="">
                    <a [routerLink]="'/user/profile/'+user.email"><span>{{user.username}}</span></a>
                   
                   </div>
                   <div>
                    <button class="btn btn-success">{{isSuperAdmin(user)? 'super': isAdmin(user)? 'admin': 'user'}}</button>
                   </div>
                </div>
                <div class="mt-2 details d-flex justify-content-between align-items-center">
                    <div>
                        <i class="bi bi-star-fill" style="color: #faa356; margin-right: 14px;"></i>
                        <span style="margin-right: 16px;">3</span>
                        <span>max score: <strong>15%</strong></span>
                    </div>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                    <div class="form-check form-switch mt-2">
                        <input 
                            class="form-check-input" 
                            type="checkbox" 
                            id="flexSwitchCheckChecked" 
                            (change)="addToAdmin(user)" 
                            [checked]="isAdmin(user)" 
                            [disabled]="user.roles?.includes('ADMIN') && !isSuperAdmin(currentUser)"
                        >
                        <label class="form-check-label" for="flexSwitchCheckChecked" style="color: #89929b;">{{isSuperAdmin(user)? 'super': isAdmin(user)? 'admin': 'Made to admin'}}</label>
                    </div>
                    <div class="div">
                        <a class="nav-link" (click)="deleteUser(user)" *ngIf="!user.roles?.includes('ADMIN')">
                            <i class="bi bi-trash3" style="color: #fa7970;"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>