<div class="bootstrap-wrapper mt-4">
    <div class="container-fluid pb-3">
        <div class="row">
            <div class="col-md-12">
                <div class="row mt-3 mb-3">
                    <div class="col-md-7">
                        <span class="box-search">
                            <input type="text" [(ngModel)]="searchterm" (ngModelChange)="filterBySearchTerm()" placeholder="Search Quiz here ...">
                            <button><i class="bi bi-search"></i></button>
                        </span>
                    </div>
                    <div class="col-md-4 title">
                        <span>AVAILABLE QUIZZES</span>
                        <button>{{quizzes.length}}</button>
                    </div>
                </div>
                
                <div class="mt-2 rowposter" style="overflow-x: auto; white-space: nowrap;" #scrollContainer>
                    
                    <button class="btn-category" [ngClass]="{'active': selectedCategory==='all'}" (click)="filterQuizByCategory('all')"><i class="bi bi-archive" style="color: #FFD700;"></i><span>All Quizzes ({{quizzes.length}})</span></button>
                    <button 
                        class="btn-category" 
                        *ngFor="let category of categories; let i= index" 
                        (click)="filterQuizByCategory(category.id)"
                        [ngClass]="{'active': category.id=== selectedCategory}"
                        >
                        <i [ngClass]="category.icon" [ngStyle]="{'color': colors[i%colors.length]}"></i>
                        <span>{{category.title+' ('+category.quizsId.length+')'}}</span>
                    </button>
                    
                </div>

                <div class="d-flex justify-content-center">
                    <button class="btn-scroll" (click)="scrollLeft()"><i class="bi bi-chevron-double-left"></i></button>
                    <button class="btn-scroll" (click)="scrollRight()"><i class="bi bi-chevron-double-right"></i></button>
                </div>
                
                <div class="row">
                    <div class="col-md-4 mt-2" *ngFor="let quiz of filterQuizzes | searchPipe: searchterm">
                        <mat-card class="mt-2">
                            <mat-card-header>
                                <div mat-card-avatar class="image-quiz" [style.backgroundImage]="'url('+quiz.imageUrl+')'"></div>
                                <mat-card-title>{{quiz.title}}</mat-card-title>
                                <mat-card-subtitle>{{quiz.category?.title}}</mat-card-subtitle>
                            </mat-card-header>
                            <mat-card-content>
                                <span class="truncate">{{quiz.description}}</span>
                            </mat-card-content>
                         
                            <mat-card-content class="main">
                                <div class="row">
                                    <div class="col-md-12 card-details">
                                        <div class="quizz-details mt-3 text-start">
                                            <div class="info-cards text-start">
                                                <div class="info-card">
                                                    <div class="info-type"> 
                                                        <i class="bi bi-question-lg"></i>
                                                        <span>QUESTIONS</span></div>
                                                    <div class="info-value">
                                                        <span>{{quiz.numberOfQuestions}}</span>
                                                    </div>
                                                </div>
                                                <div class="info-card ms-4">
                                                    <div class="info-type"> 
                                                        <i class="bi bi-alarm"></i>
                                                        <span>MINUTES</span>
                                                    </div>
                                                    <div class="info-value">
                                                        <span> {{quiz.duration}}</span>
                                                    </div>
                                                </div>
                                                <div class="info-card ms-4">
                                                    <div class="info-type"> 
                                                        <i class="bi bi-bookmark-star"></i>
                                                        <span>MARKS</span>
                                                    </div>
                                                    <div class="info-value">
                                                        <span>{{quiz.marks}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-5 quizz-ratings mb-3">
                                                    <div class="quizz-ratingy"> 
                                                        <div class="quizz-rating__stars star_3"> 
                                                            <i class="bi bi-star-fill" data-rating="1"></i>
                                                            <i class="bi bi-star-fill ms-1" data-rating="2"></i>
                                                            <i class="bi bi-star-fill ms-1" data-rating="3"></i>
                                                            <i class="bi bi-star ms-1" data-rating="4"></i>
                                                            <i class="bi bi-star ms-1" data-rating="5"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-5 d-flex justify-content-center align-items-center"> 
                                                    <img src="../../../../assets/level.png" alt=""><span style="margin-left: 2px;">{{quiz.difficulty}}</span>
                                                </div>
                                            </div>
                                            </div>
                                    </div>
                                </div>
                            </mat-card-content>
        
                            <mat-card-actions>
                                <div class="mb-2 ms-4">
                                    <!--button class="button-view">View <i class="bi bi-eye-fill ms-2" style="color: #f59e0b;"></i></button-->
                                    <button class="button-start " [routerLink]="'/user/instructions/'+quiz.id">Start this Quiz<i class="bi bi-play-circle ms-2" style="color: #0ea5e9;"></i></button>
                                </div>
                            </mat-card-actions>
                        </mat-card>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>